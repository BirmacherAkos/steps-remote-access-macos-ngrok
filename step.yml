title: |-
  Remote access with Ngrok for macOS
summary: |
  Remote access with Ngrok for macOS. Exposes SSH and VNC (Screen Sharing) ports via ngrok.
description: |
  ## Warning!! DO NOT run this step on your own Mac!!

  **DO NOT RUN THIS STEP ON YOUR OWN MAC!!**

  Based on its inputs, if specified, this step changes the current user's MacOS login password!

  The Step also changes the SSH `authorized_keys`, to allow access for the specified key,
  so please be very cautious where you run this step!

  This step was created purely for remote debugging purposes!

  ## Setup

  Exposes SSH and VNC (Screen Sharing) ports via [ngrok](https://ngrok.com/).

  To be able to use this step you have to register an [ngrok](https://ngrok.com/) account.
  Once you registered an account on ngrok go to the [Auth menu](https://dashboard.ngrok.com/auth),
  you can find your Ngrok Authtoken there.
website: https://github.com/bitrise-steplib/steps-remote-access-macos-ngrok
source_code_url: https://github.com/bitrise-steplib/steps-remote-access-macos-ngrok
support_url: https://github.com/bitrise-steplib/steps-remote-access-macos-ngrok/issues
host_os_tags:
  - osx-10.10
type_tags:
  - utility

is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ".IsCI"

deps:
  brew:
  - name: caskroom/cask/ngrok
    bin_name: ngrok

toolkit:
  go:
    package_name: github.com/bitrise-steplib/steps-remote-access-macos-ngrok

inputs:
  - auth_token: $NGROK_AUTH_TOKEN
    opts:
      title: "Auth token"
      summary: Summary.
      description: |
        To be able to use this step you have to register an [ngrok](https://ngrok.com/) account.
        Once you registered an account on ngrok go to the [Auth menu](https://dashboard.ngrok.com/auth),
        you can find your Ngrok Authtoken there.
      is_expand: true
      is_required: true
  - ssh_public_key: $SSH_PUBLIC_KEY
    opts:
      title: "SSH public key"
      summary: Summary.
      description: |
        Description of this input.

        Can be Markdown formatted text.
      is_expand: true
      is_required: true
  - screen_share_pw: $SCREEN_SHARE_PASSWORD
    opts:
      title: "Screen share password"
      summary: Summary.
      description: |
        Description of this input.

        Can be Markdown formatted text.
      is_expand: true
      is_required: true
